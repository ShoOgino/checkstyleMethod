    /**
     * Collapse whitespaces.
     *
     * @param str Source string.
     * @return The given string with all whitespace collapsed.
     */
    private static String collapseWhitespace(String str) {
        final Matcher matcher = WHITESPACE_PATTERN.matcher(str);
        return matcher.replaceAll(" ").trim();
    }

