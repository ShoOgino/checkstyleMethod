    @Override
    public void visitToken(DetailAST ast) {
        final DetailAST parent = ast.getParent();
        if (parent.getType() == TokenTypes.SLIST
                && (!allowInSwitchCase
                    || parent.getParent().getType() != TokenTypes.CASE_GROUP
                    || parent.getNumberOfChildren() != 1)) {
            log(ast.getLineNo(), ast.getColumnNo(), MSG_KEY_BLOCK_NESTED);
        }
    }

