    @Override
    public void visitToken(DetailAST ast) {
        if (ignoreAnnotation && isChildOf(ast, TokenTypes.ANNOTATION)) {
            return;
        }

        if (isInIgnoreList(ast)
            || ignoreHashCodeMethod && isInHashCodeMethod(ast)) {
            return;
        }

        final DetailAST constantDefAST = findContainingConstantDef(ast);

        if (constantDefAST == null) {
            if (!(ignoreFieldDeclaration && isFieldDeclaration(ast))) {
                reportMagicNumber(ast);
            }
        }
        else {
            final boolean found = isMagicNumberExists(ast, constantDefAST);
            if (found) {
                reportMagicNumber(ast);
            }
        }
    }

