    /**
     * Copy mConfig using in-memory serialization
     * @param aConfig the original
     * @return a copy of aConfig obtained by in-memory serialization
     */
    private Configuration copyBySerialization(Configuration aConfig)
        throws IOException, ClassNotFoundException
    {
        ByteArrayOutputStream baos = new ByteArrayOutputStream();
        ObjectOutputStream oos = new ObjectOutputStream(baos);
        oos.writeObject(aConfig);
        oos.flush();
        oos.close();

        ByteArrayInputStream bais = new ByteArrayInputStream(baos.toByteArray());
        ObjectInputStream ois = new ObjectInputStream(bais);
        Configuration configCopy = (Configuration) ois.readObject();
        ois.close();
        return configCopy;
    }

