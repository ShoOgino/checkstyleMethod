    /**
     * Returns a list of all {@link Configuration} instances for the given module name.
     * This implementation uses {@link AbstractModuleTestSupport#getConfiguration()} method inside.
     * @param moduleName module name.
     * @return {@link Configuration} instance for the given module name.
     * @throws CheckstyleException if exception occurs during configuration loading.
     */
    protected static List<Configuration> getModuleConfigs(String moduleName)
            throws CheckstyleException {
        final List<Configuration> result = new ArrayList<>();
        for (Configuration currentConfig : getConfiguration().getChildren()) {
            if ("TreeWalker".equals(currentConfig.getName())) {
                for (Configuration moduleConfig : currentConfig.getChildren()) {
                    if (moduleName.equals(moduleConfig.getName())) {
                        result.add(moduleConfig);
                    }
                }
            }
            else if (moduleName.equals(currentConfig.getName())) {
                result.add(currentConfig);
            }
        }
        return result;
    }

