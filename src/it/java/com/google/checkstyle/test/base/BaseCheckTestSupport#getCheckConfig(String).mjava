    /**
     * Returns {@link Configuration} instance for the given check name.
     * This implementation uses {@link BaseCheckTestSupport#getConfiguration()} method inside.
     * @param checkName check name.
     * @return {@link Configuration} instance for the given check name.
     * @throws CheckstyleException if exception occurs during configuration loading.
     */
    protected static Configuration getCheckConfig(String checkName) throws CheckstyleException {
        Configuration result = null;
        for (Configuration currentConfig : getConfiguration().getChildren()) {
            if ("TreeWalker".equals(currentConfig.getName())) {
                for (Configuration checkConfig : currentConfig.getChildren()) {
                    if (checkName.equals(checkConfig.getName())) {
                        result = checkConfig;
                        break;
                    }
                }
            }
            else if (checkName.equals(currentConfig.getName())) {
                result = currentConfig;
                break;
            }
        }
        return result;
    }

