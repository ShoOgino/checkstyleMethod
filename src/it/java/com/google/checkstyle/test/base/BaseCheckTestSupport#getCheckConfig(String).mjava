    /**
     * Returns {@link Configuration} instance for the given check name.
     * This implementation uses {@link BaseCheckTestSupport#getConfiguration()} method inside.
     * @param checkName check name.
     * @return {@link Configuration} instance for the given check name.
     * @throws CheckstyleException if exception occurs during configuration loading.
     */
    protected static Configuration getCheckConfig(String checkName) throws CheckstyleException {
        final Configuration result;
        final List<Configuration> configs = getCheckConfigs(checkName);
        if (configs.size() == 1) {
            result = configs.get(0);
        }
        else {
            throw new IllegalStateException("multiple instances of the same Check are detected");
        }
        return result;
    }

