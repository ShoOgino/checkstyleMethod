    @Test
    public void testCommitMessageHasProperStructure() throws Exception {
        for (RevCommit commit : filterValidCommits(lastCommits)) {
            final String commitId = commit.getId().getName();
            final String commitMessage = commit.getFullMessage();
            final Matcher matcher = ACCEPTED_COMMIT_MESSAGE_PATTERN.matcher(commitMessage);
            assertTrue(getInvalidCommitMessageFormattingError(commitId, commitMessage),
                    matcher.matches());
        }
    }

