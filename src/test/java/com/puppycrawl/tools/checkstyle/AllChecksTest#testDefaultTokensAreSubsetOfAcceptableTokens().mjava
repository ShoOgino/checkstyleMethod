    @Test
    public void testDefaultTokensAreSubsetOfAcceptableTokens() throws Exception {
        Set<Class<?>> checkstyleChecks = getCheckstyleChecks();
        Set<Class<?>> checksWithIncorrectTokenSets = new HashSet<>();

        for (Class<?> check : checkstyleChecks) {
            if (Check.class.isAssignableFrom(check)) {
                final Check testedCheck = (Check) check.newInstance();
                final int[] defaultTokens = testedCheck.getDefaultTokens();
                final int[] acceptableTokens = testedCheck.getAcceptableTokens();

                if (!isSubset(defaultTokens, acceptableTokens)) {
                    String errorMessage = String.format("%s's default tokens must be a subset"
                        + " of acceptable tokens.", check.getName());
                    Assert.fail(errorMessage);
                }
            }
        }
    }

