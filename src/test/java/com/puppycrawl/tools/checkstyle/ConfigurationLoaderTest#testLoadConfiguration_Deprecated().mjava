    @Test
    public void testLoadConfiguration_Deprecated() throws CheckstyleException {
        try {
            final DefaultConfiguration config =
                    (DefaultConfiguration) ConfigurationLoader.loadConfiguration(
                            new FileInputStream(
                                    "src/test/resources/com/puppycrawl/tools/checkstyle/configs/"
                                    + "config_with_ignore.xml"),
                            new PropertiesExpander(new Properties()), true);

            final Configuration[] children = config.getChildren();
            assertTrue(children[0].getChildren().length == 0);
        }
        catch (CheckstyleException ex) {
            fail("unexpected exception");
        }
        catch (FileNotFoundException e) {
            fail("unexpected exception");
        }
    }

