    @Test
    public void testAddPreviousSibling() {
        final DetailAST previousSibling = new DetailAST();
        final DetailAST instance = new DetailAST();
        final DetailAST parent = new DetailAST();

        parent.setFirstChild(instance);

        instance.addPreviousSibling(previousSibling);

        assertEquals("unexpected result", previousSibling, instance.getPreviousSibling());
        assertEquals("unexpected result", previousSibling, parent.getFirstChild());

        final DetailAST newPreviousSibling = new DetailAST();

        instance.addPreviousSibling(newPreviousSibling);

        assertEquals("unexpected result", newPreviousSibling, instance.getPreviousSibling());
        assertEquals("unexpected result", previousSibling, newPreviousSibling.getPreviousSibling());
        assertEquals("unexpected result", newPreviousSibling, previousSibling.getNextSibling());
        assertEquals("unexpected result", previousSibling, parent.getFirstChild());
    }

