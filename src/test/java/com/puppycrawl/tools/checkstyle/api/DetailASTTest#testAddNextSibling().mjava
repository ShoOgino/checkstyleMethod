    @Test
    public void testAddNextSibling() {
        final DetailAST parent = new DetailAST();
        final DetailAST child = new DetailAST();
        final DetailAST sibling = new DetailAST();
        final DetailAST newSibling = new DetailAST();
        parent.setFirstChild(child);
        child.setNextSibling(sibling);

        child.addNextSibling(newSibling);
        assertTrue(newSibling.getParent().equals(parent));
        assertTrue(newSibling.getNextSibling().equals(sibling));
        assertTrue(child.getNextSibling().equals(newSibling));
    }

