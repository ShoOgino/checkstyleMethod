    @Test
    public void testAddNextSiblingNullParent() {
        final DetailAST child = new DetailAST();
        final DetailAST newSibling = new DetailAST();
        final DetailAST oldParent = new DetailAST();
        oldParent.addChild(newSibling);
        child.addNextSibling(newSibling);

        assertEquals("Invalid parent", oldParent, newSibling.getParent());
        assertNull("Invalid next sibling", newSibling.getNextSibling());
        assertEquals("Invalid child", newSibling, child.getNextSibling());
    }

