    @Test
    public void testWrongArgument()
            throws Exception {
        exit.expectSystemExitWithStatus(-1);
        exit.checkAssertionAfterwards(new Assertion() {
            @Override
            public void checkAssertion() {
                final String usage = String.format(Locale.ROOT, "Unrecognized option: -w%n"
                    + "usage: java com.puppycrawl.tools.checkstyle.Main [options] -c <config.xml>"
                    + " file...%n"
                    + " -c <arg>                Sets the check configuration file to use.%n"
                    + " -f <arg>                Sets the output format. (plain|xml). Defaults to"
                    + " plain%n"
                    + " -j,--javadocTree        Print Parse tree of the Javadoc comment%n"
                    + " -o <arg>                Sets the output file. Defaults to stdout%n"
                    + " -p <arg>                Loads the properties file%n"
                    + " -t,--tree               Print Abstract Syntax Tree(AST) of the file%n"
                    + " -T,--treeWithComments   Print Abstract Syntax Tree(AST) of the file"
                    + " including comments%n"
                    + " -v                      Print product version and exit%n");
                assertEquals(usage, systemOut.getLog());
                assertEquals("", systemErr.getLog());
            }
        });
        Main.main("-w");
    }

