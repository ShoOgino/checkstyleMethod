    @Test
    public void testIgnoreFinalOption() throws Exception {
        final DefaultConfiguration checkConfig =
            createModuleConfig(VariableDeclarationUsageDistanceCheck.class);
        checkConfig.addAttribute("allowedDistance", "1");
        checkConfig.addAttribute("ignoreVariablePattern", "");
        checkConfig.addAttribute("validateBetweenScopes", "true");
        checkConfig.addAttribute("ignoreFinal", "true");
        final String[] expected = {
            "30:9: " + getCheckMessage(MSG_KEY_EXT, "a", 2, 1),
            "38:9: " + getCheckMessage(MSG_KEY_EXT, "temp", 2, 1),
            "44:9: " + getCheckMessage(MSG_KEY_EXT, "temp", 2, 1),
            "57:9: " + getCheckMessage(MSG_KEY_EXT, "count", 2, 1),
            "71:9: " + getCheckMessage(MSG_KEY_EXT, "count", 4, 1),
            "96:9: " + getCheckMessage(MSG_KEY_EXT, "arg", 2, 1),
            "144:9: " + getCheckMessage(MSG_KEY_EXT, "m", 3, 1),
            "145:9: " + getCheckMessage(MSG_KEY_EXT, "n", 2, 1),
            "184:9: " + getCheckMessage(MSG_KEY_EXT, "result", 2, 1),
            "219:9: " + getCheckMessage(MSG_KEY_EXT, "t", 5, 1),
            "222:9: " + getCheckMessage(MSG_KEY_EXT, "c", 3, 1),
            "223:9: " + getCheckMessage(MSG_KEY_EXT, "d2", 3, 1),
            "260:12: " + getCheckMessage(MSG_KEY_EXT, "sel", 2, 1),
            "261:9: " + getCheckMessage(MSG_KEY_EXT, "model", 2, 1),
            "287:9: " + getCheckMessage(MSG_KEY_EXT, "sw", 2, 1),
            "300:9: " + getCheckMessage(MSG_KEY_EXT, "wh", 2, 1),
            "343:9: " + getCheckMessage(MSG_KEY_EXT, "green", 2, 1),
            "344:9: " + getCheckMessage(MSG_KEY_EXT, "blue", 3, 1),
            "454:9: " + getCheckMessage(MSG_KEY_EXT, "aOpt", 3, 1),
            "455:9: " + getCheckMessage(MSG_KEY_EXT, "bOpt", 2, 1),
            "471:9: " + getCheckMessage(MSG_KEY_EXT, "l1", 3, 1),
            "471:9: " + getCheckMessage(MSG_KEY_EXT, "l2", 2, 1),
            "479:9: " + getCheckMessage(MSG_KEY_EXT, "myOption", 7, 1),
            "491:9: " + getCheckMessage(MSG_KEY_EXT, "myOption", 6, 1),
            "504:9: " + getCheckMessage(MSG_KEY_EXT, "count", 4, 1),
            "505:15: " + getCheckMessage(MSG_KEY_EXT, "files", 2, 1),
            "540:13: " + getCheckMessage(MSG_KEY_EXT, "id", 2, 1),
            "542:13: " + getCheckMessage(MSG_KEY_EXT, "parentId", 3, 1),
            "891:9: " + getCheckMessage(MSG_KEY_EXT, "a", 4, 1),
            "901:9: " + getCheckMessage(MSG_KEY_EXT, "a", 4, 1),
            "967:9: " + getCheckMessage(MSG_KEY_EXT, "a", 4, 1),
            "989:9: " + getCheckMessage(MSG_KEY_EXT, "a", 3, 1),
            "1024:9: " + getCheckMessage(MSG_KEY_EXT, "c", 3, 1),
            "1054:9: " + getCheckMessage(MSG_KEY_EXT, "a", 4, 1),
        };
        verify(checkConfig, getPath("InputVariableDeclarationUsageDistance.java"), expected);
    }

