    @Test
    public void testImproperToken() throws Exception {
        ModifiedControlVariableCheck check = new ModifiedControlVariableCheck();

        DetailAST classDefAst = new DetailAST();
        classDefAst.setType(TokenTypes.CLASS_DEF);

        try {
            check.visitToken(classDefAst);
            Assert.fail();
        }
        catch (IllegalStateException e) {
            // it is OK
        }

        try {
            check.leaveToken(classDefAst);
            Assert.fail();
        }
        catch (IllegalStateException e) {
            // it is OK
        }
    }

