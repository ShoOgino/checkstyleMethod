    @Test
    public void testCustomMessage()
        throws Exception {
        final DefaultConfiguration checkConfig =
            createCheckConfig(IllegalTokenTextCheck.class);
        checkConfig.addAttribute("tokens", "STRING_LITERAL");
        checkConfig.addAttribute("format", "a href");

        String customMessage = "My custom message";
        checkConfig.addAttribute("message", customMessage);
        final String[] expected = {
            "24:28: " + MessageFormat.format(customMessage, "a href"),
        };
        verify(checkConfig, getPath("InputIllegalTokens.java"), expected);
    }

