    @Test
    public void testWrongFile() throws Exception {
        final DefaultConfiguration checkConfig = createCheckConfig(NewlineAtEndOfFileCheck.class);
        final NewlineAtEndOfFileCheck check = new NewlineAtEndOfFileCheck();
        check.configure(checkConfig);
        final File impossibleFile = new File("");
        final Set<LocalizedMessage> messages = check.process(impossibleFile,
            Lists.newArrayList("txt"));
        assertEquals(1, messages.size());
        final Iterator<LocalizedMessage> iterator = messages.iterator();
        assertEquals("Unable to open ''.", iterator.next().getMessage());
    }

