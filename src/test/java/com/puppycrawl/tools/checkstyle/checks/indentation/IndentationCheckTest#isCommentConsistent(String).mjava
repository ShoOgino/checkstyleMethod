    private static boolean isCommentConsistent(String comment) {
        final int indentInComment = getIndentFromComment(comment);
        final boolean isWarnComment = isWarnComment(comment);

        Matcher multilevelMatch = MULTILEVEL_COMMENT_REGEX.matcher(comment);
        if (multilevelMatch.matches()) {
            final String[] levels = multilevelMatch.group(1).split(",");
            final String indentInCommentStr = String.valueOf(indentInComment);
            final boolean containsActualLevel =
                            Arrays.asList(levels).contains(indentInCommentStr);

            return containsActualLevel && !isWarnComment
                    || !containsActualLevel && isWarnComment;
        }

        Matcher singleLevelMatch = SINGLE_LEVEL_COMMENT_REGEX.matcher(comment);
        if (singleLevelMatch.matches()) {
            final int expectedLevel = Integer.parseInt(singleLevelMatch.group(1));
            return isSingleLevelCommentConsistent(indentInComment, isWarnComment, expectedLevel);
        }

        Matcher nonStrictLevelMatch = NON_STRICT_LEVEL_COMMENT_REGEX.matcher(comment);
        if (nonStrictLevelMatch.matches()) {
            final int expectedMinimalIndent = Integer.parseInt(nonStrictLevelMatch.group(1));

            return indentInComment >= expectedMinimalIndent && !isWarnComment
                    || indentInComment < expectedMinimalIndent && isWarnComment;
        }

        throw new IllegalStateException("Comments are not consistent");
    }

