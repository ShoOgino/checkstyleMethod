    @Test
    public void testGetTokenFieldValue() throws NoSuchMethodException {
        Integer id = 0;
        try {
            // overwrite static field with new value
            Method method = Utils.class.getDeclaredMethod("getTokenFieldValue",
                    Field.class, String.class);
            method.setAccessible(true);
            method.invoke(null, Field.class.getDeclaredField("modifiers"), "smth_strange");

            fail();
        }
        catch (InvocationTargetException expected) {
            // in method we throw IllegalStateException,
            // but JDK wrap that in InvocationTargetException
            assertEquals(IllegalStateException.class, expected.getCause().getClass());
            assertEquals("Failed to instantiate collection of Java tokens",
                    expected.getCause().getMessage());
        }
        catch (Exception e) {
            fail();
        }
    }

