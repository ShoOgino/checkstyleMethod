    @Test
    public void testExistingIncorrectConfigFile()
            throws Exception {
        exit.expectSystemExitWithStatus(-2);
        exit.checkAssertionAfterwards(new Assertion() {
            @Override
            public void checkAssertion() {
                assertEquals(String.format("unable to parse configuration stream - Content is not allowed in prolog.:7:1%n"
                        + "Checkstyle ends with 1 errors.%n"), systemOut.getLog());
                assertEquals("", systemErr.getLog());
            }
        });
        Main.main("-c", "src/test/resources/com/puppycrawl/tools/checkstyle/"
                + "config-Incorrect.xml",
            "src/test/resources/com/puppycrawl/tools/checkstyle/InputMain.java");
    }

