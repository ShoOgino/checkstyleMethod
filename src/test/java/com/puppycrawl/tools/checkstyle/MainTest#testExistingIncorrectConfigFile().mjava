    @Test
    public void testExistingIncorrectConfigFile()
            throws Exception {
        exit.expectSystemExitWithStatus(-2);
        exit.checkAssertionAfterwards(new Assertion() {
            @Override
            public void checkAssertion() {
                assertTrue(systemOut.getLog().startsWith(String.format(Locale.ROOT,
                      "unable to parse configuration stream"
                      + " - Content is not allowed in prolog.:7:1%n"
                      + "Cause: org.xml.sax.SAXParseException; systemId: file:")));
                assertTrue(systemOut.getLog().endsWith(String.format(Locale.ROOT,
                      "com/puppycrawl/tools/checkstyle/config-Incorrect.xml;"
                      + " lineNumber: 7; columnNumber: 1; "
                      + "Content is not allowed in prolog.%n"
                      + "Checkstyle ends with 1 errors.%n")));
                assertEquals("", systemErr.getLog());
            }
        });
        Main.main("-c", getPath("config-Incorrect.xml"),
            getPath("InputMain.java"));
    }

