    @Test
    public void testExistingTargetFilePlainOutputToFileWithoutRwPermissions()
            throws Exception {
        final File file = temporaryFolder.newFile("file.output");
        file.setReadable(false, false);
        file.setWritable(false, false);
        exit.expectSystemExitWithStatus(-1);
        exit.checkAssertionAfterwards(new Assertion() {
            public void checkAssertion() throws IOException {
                assertEquals("Permission denied : '" + file.getCanonicalPath() + "'."
                    + System.lineSeparator(), standardLog.getLog());
                assertEquals("", errorLog.getLog());
            }
        });
        Main.main("-c", "src/test/resources/com/puppycrawl/tools/checkstyle/config-classname.xml",
                "-f", "plain",
                "-o", file.getCanonicalPath(),
                "src/test/resources/com/puppycrawl/tools/checkstyle/InputMain.java");
    }

