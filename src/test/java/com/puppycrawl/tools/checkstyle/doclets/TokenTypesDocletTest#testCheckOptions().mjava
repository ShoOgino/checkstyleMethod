    @Test
    public void testCheckOptions() {
        Context context = new Context();
        TestMessager testMessager = new TestMessager(context);

        //pass invalid options - empty array
        String[][] options = new String[3][1];
        assertFalse(TokenTypesDoclet.checkOptions(options, testMessager));

        //pass valid options - array with one "-destfile" option
        options[0][0] = "-destfile";
        assertTrue(TokenTypesDoclet.checkOptions(options, testMessager));

        //pass invalid options - array with more than one "-destfile" option
        options[1][0] = "-destfile";
        assertFalse(TokenTypesDoclet.checkOptions(options, testMessager));

        String[] expected = {
            "Usage: javadoc -destfile file -doclet TokenTypesDoclet ...",
            "Only one -destfile option allowed.",
        };

        Assert.assertArrayEquals(expected, testMessager.messages.toArray());
    }

