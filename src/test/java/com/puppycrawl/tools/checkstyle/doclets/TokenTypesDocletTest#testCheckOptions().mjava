    @Test
    public void testCheckOptions() {
        final Context context = new Context();
        final TestMessager testMessager = new TestMessager(context);

        final String[][] options = new String[3][1];
        assertFalse("Should return false when options are empty",
                TokenTypesDoclet.checkOptions(options, testMessager));

        options[0][0] = "-destfile";
        assertTrue("Should return true when options are valid",
                TokenTypesDoclet.checkOptions(options, testMessager));

        //pass invalid options - array with more than one "-destfile" option
        options[1][0] = "-destfile";
        assertFalse("Should return false when more then one '-destfile' option passed",
                TokenTypesDoclet.checkOptions(options, testMessager));

        final String[] expected = {
            "Usage: javadoc -destfile file -doclet TokenTypesDoclet ...",
            "Only one -destfile option allowed.",
        };

        Assert.assertArrayEquals("Invalid message", expected, testMessager.messages.toArray());
    }

