    @Test
    public void testUnableToReadSuppressions() throws Exception {
        mockStatic(SuppressionsLoader.class);

        String fileName = "suppressions_none.xml";
        InputSource source = mock(InputSource.class);

        when(source.getByteStream()).thenThrow(IOException.class);
        when(SuppressionsLoader.class, "loadSuppressions", source, fileName).thenCallRealMethod();

        try {
            Whitebox.invokeMethod(SuppressionsLoader.class, "loadSuppressions", source, fileName);
            fail("Exception is expected");
        }
        catch (CheckstyleException ex) {
            assertTrue(ex.getCause() instanceof  IOException);
            assertEquals("unable to read " + fileName, ex.getMessage());
        }
    }

