    @Before
    public void setUp() {
        // restore original logging level and handlers to prevent bleeding into other tests

        logger.setLevel(originalLogLevel);

        for (Handler handler : logger.getHandlers()) {
            boolean found = false;

            for (Handler savedHandler : handlers) {
                if (handler == savedHandler) {
                    found = true;
                    break;
                }
            }

            if (!found) {
                logger.removeHandler(handler);
            }
        }
    }

