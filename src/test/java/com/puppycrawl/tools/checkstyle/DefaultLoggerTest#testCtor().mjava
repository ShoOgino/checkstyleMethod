    @Test
    public void testCtor() throws UnsupportedEncodingException {
        final OutputStream infoStream = new ByteArrayOutputStream();
        final ByteArrayOutputStream errorStream = new ByteArrayOutputStream();
        final DefaultLogger dl = new DefaultLogger(infoStream, true, errorStream, true);
        dl.addException(new AuditEvent(5000, "myfile"), new IllegalStateException("upsss"));
        dl.auditFinished(new AuditEvent(6000, "myfile"));
        final String output = errorStream.toString("UTF-8");
        final LocalizedMessage addExceptionMessage = new LocalizedMessage(0,
                Definitions.CHECKSTYLE_BUNDLE, "DefaultLogger.addException",
                new String[] {"myfile"}, null,
                getClass(), null);

        assertTrue("Output should contain: " + addExceptionMessage.getMessage(),
                output.contains(addExceptionMessage.getMessage()));
        assertTrue("Output should contain: java.lang.IllegalStateException: upsss",
                output.contains("java.lang.IllegalStateException: upsss"));
    }

