    @Test
    public void testLoadConfigurationDeprecated() {
        try {
            @SuppressWarnings("deprecation")
            final DefaultConfiguration config =
                    (DefaultConfiguration) ConfigurationLoader.loadConfiguration(
                            new FileInputStream(getConfigPath("config_with_ignore.xml")),
                            new PropertiesExpander(new Properties()), true);

            final Configuration[] children = config.getChildren();
            assertEquals(0, children[0].getChildren().length);
        }
        catch (CheckstyleException | FileNotFoundException ex) {
            fail("unexpected exception");
        }
    }

