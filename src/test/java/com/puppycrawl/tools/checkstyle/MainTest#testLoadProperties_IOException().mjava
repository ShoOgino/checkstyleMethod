    @Test
    public void testLoadProperties_IOException() throws Exception {
        Class[] param = new Class[1];
        param[0] = File.class;
        Method method = Main.class.getDeclaredMethod("loadProperties", param);
        method.setAccessible(true);
        try {
            method.invoke(null, new File(File.separator + "invalid"));
            fail();
        }
        catch (InvocationTargetException e) {
            assertTrue(e.getCause() instanceof CheckstyleException);
            // We do separate validation for message as in Windows
            // disk drive letter appear in message,
            // so we skip that drive letter for compatibility issues
            assertTrue(e.getCause().getMessage().startsWith("Unable to load properties from file '"));
            assertTrue(e.getCause().getMessage().endsWith("invalid'."));
        }
        catch (Exception e) {
            fail();
        }
    }

