    @Test
    public void testPrivateConstructorWithPropertyResolverAndOmitIgnoreModules() throws Exception {
        final Class<?> configurationLoaderClass = ConfigurationLoader.class;
        final Constructor<?> configurationLoaderCtor =
                configurationLoaderClass.getDeclaredConstructor(
                        PropertyResolver.class, boolean.class);
        configurationLoaderCtor.setAccessible(true);

        final Properties properties = new Properties();
        final PropertyResolver propertyResolver = new PropertiesExpander(properties);
        final ConfigurationLoader configurationLoader =
                (ConfigurationLoader) configurationLoaderCtor.newInstance(
                        propertyResolver, true);

        final Field overridePropsResolverField =
                configurationLoaderClass.getDeclaredField("overridePropsResolver");
        overridePropsResolverField.setAccessible(true);
        assertEquals(propertyResolver, overridePropsResolverField.get(configurationLoader));

        final Field omitIgnoredModulesField =
                configurationLoaderClass.getDeclaredField("omitIgnoredModules");
        omitIgnoredModulesField.setAccessible(true);
        assertEquals(true, omitIgnoredModulesField.get(configurationLoader));
    }

