    @Test
    public void testAddNextSiblingNullParent() {
        final DetailAST child = new DetailAstImpl();
        final DetailAstImpl newSibling = new DetailAstImpl();
        final DetailAstImpl oldParent = new DetailAstImpl();
        oldParent.addChild(newSibling);
        child.addNextSibling(newSibling);

        assertEquals("Invalid parent", oldParent, newSibling.getParent());
        assertNull("Invalid next sibling", newSibling.getNextSibling());
        assertEquals("Invalid child", newSibling, child.getNextSibling());
    }

